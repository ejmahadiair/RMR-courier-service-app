{"ast":null,"code":"import _asyncToGenerator from\"E:/My-MERN-full-stack/RMR/RMR-courier-service-app/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/My-MERN-full-stack/RMR/RMR-courier-service-app/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\My-MERN-full-stack\\\\RMR\\\\RMR-courier-service-app\\\\server\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{EditOutlined,DeleteForever}from\"@material-ui/icons\";import\"./user.scss\";import Edit from\"../editprofile/Edit\";import Magic from\"../magic/Magic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var User=function User(_ref){var setIsedit=_ref.setIsedit;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isuseedit=_useState2[0],setUseredit=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),magic=_useState4[0],setmagic=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),check=_useState6[0],setCheck=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),hasid=_useState10[0],setHasid=_useState10[1];var getalluser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/api/user/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;// console.log(\"User data: \", data);\nsetUser(data.alluser);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getalluser(){return _ref2.apply(this,arguments);};}();useEffect(function(){getalluser();},[]);console.log(\"User data: \",user);var deleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/api/user/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;alert(data.message);setCheck(data.check);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteUser(_x){return _ref3.apply(this,arguments);};}();var deletehandler=function deletehandler(id){deleteUser(id);};useEffect(function(){if(check===true){setmagic(true);setCheck(false);}},[check]);var editme=function editme(id){setUseredit(true);setIsedit(false);setHasid(id);};return/*#__PURE__*/_jsxs(_Fragment,{children:[!isuseedit?/*#__PURE__*/_jsx(_Fragment,{children:!magic&&user.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"user-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block\",children:/*#__PURE__*/_jsx(\"h1\",{children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"block\",children:/*#__PURE__*/_jsx(\"h3\",{children:item.email})}),/*#__PURE__*/_jsx(\"div\",{className:\"block\",children:/*#__PURE__*/_jsx(\"h4\",{children:item.status})}),/*#__PURE__*/_jsx(\"div\",{className:\"block update\",children:/*#__PURE__*/_jsx(EditOutlined,{className:\"edit\",onClick:function onClick(){return editme(item._id);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"block update\",onClick:function onClick(){return deletehandler(item._id);},children:/*#__PURE__*/_jsx(DeleteForever,{className:\"delete\"})})]},key);})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Edit,{hasid:hasid})}),magic&&/*#__PURE__*/_jsx(Magic,{magic:magic,setmagic:setmagic})]});};export default User;","map":{"version":3,"sources":["E:/My-MERN-full-stack/RMR/RMR-courier-service-app/server/client/src/components/profilecontrol/user/User.js"],"names":["React","useEffect","useState","EditOutlined","DeleteForever","Edit","Magic","User","setIsedit","isuseedit","setUseredit","magic","setmagic","check","setCheck","user","setUser","hasid","setHasid","getalluser","fetch","method","headers","res","json","data","alluser","console","log","deleteUser","id","alert","message","deletehandler","editme","map","item","key","name","email","status","_id"],"mappings":"4cAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,oBAA5C,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,C,6IACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,CAC9B,cAAiCN,QAAQ,CAAC,KAAD,CAAzC,wCAAOO,SAAP,eAAkBC,WAAlB,eACA,eAA0BR,QAAQ,CAAC,KAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAA0BV,QAAQ,CAAC,KAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,eAAwBZ,QAAQ,CAAC,EAAD,CAAhC,yCAAOa,IAAP,eAAaC,OAAb,eACA,eAA0Bd,QAAQ,CAAC,EAAD,CAAlC,0CAAOe,KAAP,gBAAcC,QAAd,gBAEA,GAAMC,CAAAA,UAAU,2FAAG,sKACCC,CAAAA,KAAK,CAAC,iCAAD,CAAoC,CACzDC,MAAM,CAAE,KADiD,CAEzDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFgD,CAApC,CADN,QACXC,GADW,qCAOEA,CAAAA,GAAG,CAACC,IAAJ,EAPF,QAOXC,IAPW,eAQjB;AACAT,OAAO,CAACS,IAAI,CAACC,OAAN,CAAP,CATiB,sDAAH,kBAAVP,CAAAA,UAAU,2CAAhB,CAYAlB,SAAS,CAAC,UAAM,CACdkB,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAGAQ,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2Bb,IAA3B,EAEA,GAAMc,CAAAA,UAAU,2FAAG,kBAAOC,EAAP,0JACCV,CAAAA,KAAK,0CAAmCU,EAAnC,EAAyC,CAC9DT,MAAM,CAAE,QADsD,CAE9DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFqD,CAAzC,CADN,QACXC,GADW,uCAOEA,CAAAA,GAAG,CAACC,IAAJ,EAPF,QAOXC,IAPW,gBAQjBM,KAAK,CAACN,IAAI,CAACO,OAAN,CAAL,CACAlB,QAAQ,CAACW,IAAI,CAACZ,KAAN,CAAR,CATiB,wDAAH,kBAAVgB,CAAAA,UAAU,6CAAhB,CAYA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACH,EAAD,CAAQ,CAC5BD,UAAU,CAACC,EAAD,CAAV,CACD,CAFD,CAGA7B,SAAS,CAAC,UAAM,CACd,GAAIY,KAAK,GAAK,IAAd,CAAoB,CAClBD,QAAQ,CAAC,IAAD,CAAR,CACAE,QAAQ,CAAC,KAAD,CAAR,CACD,CACF,CALQ,CAKN,CAACD,KAAD,CALM,CAAT,CAOA,GAAMqB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACJ,EAAD,CAAQ,CACrBpB,WAAW,CAAC,IAAD,CAAX,CACAF,SAAS,CAAC,KAAD,CAAT,CACAU,QAAQ,CAACY,EAAD,CAAR,CACD,CAJD,CAKA,mBACE,2BACG,CAACrB,SAAD,cACC,yBACG,CAACE,KAAD,EACCI,IAAI,CAACoB,GAAL,CAAS,SAACC,IAAD,CAAOC,GAAP,CAAe,CACtB,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,oBAAKD,IAAI,CAACE,IAAV,EADF,EADF,cAIE,YAAK,SAAS,CAAC,OAAf,uBACE,oBAAKF,IAAI,CAACG,KAAV,EADF,EAJF,cAOE,YAAK,SAAS,CAAC,OAAf,uBACE,oBAAKH,IAAI,CAACI,MAAV,EADF,EAPF,cAUE,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,YAAD,EACE,SAAS,CAAC,MADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,MAAM,CAACE,IAAI,CAACK,GAAN,CAAZ,EAFX,EADF,EAVF,cAgBE,YACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,yBAAMR,CAAAA,aAAa,CAACG,IAAI,CAACK,GAAN,CAAnB,EAFX,uBAIE,KAAC,aAAD,EAAe,SAAS,CAAC,QAAzB,EAJF,EAhBF,GAAqCJ,GAArC,CADF,CAyBD,CA1BD,CAFJ,EADD,cAgCC,sCACE,KAAC,IAAD,EAAM,KAAK,CAAEpB,KAAb,EADF,EAjCJ,CAqCGN,KAAK,eAAI,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,CAAqB,QAAQ,CAAEC,QAA/B,EArCZ,GADF,CAyCD,CA5FD,CA8FA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { EditOutlined, DeleteForever } from \"@material-ui/icons\";\r\nimport \"./user.scss\";\r\nimport Edit from \"../editprofile/Edit\";\r\nimport Magic from \"../magic/Magic\";\r\nconst User = ({ setIsedit }) => {\r\n  const [isuseedit, setUseredit] = useState(false);\r\n  const [magic, setmagic] = useState(false);\r\n  const [check, setCheck] = useState(false);\r\n  const [user, setUser] = useState([]);\r\n  const [hasid, setHasid] = useState(\"\");\r\n\r\n  const getalluser = async () => {\r\n    const res = await fetch(\"http://localhost:5000/api/user/\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data = await res.json();\r\n    // console.log(\"User data: \", data);\r\n    setUser(data.alluser);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getalluser();\r\n  }, []);\r\n  console.log(\"User data: \", user);\r\n\r\n  const deleteUser = async (id) => {\r\n    const res = await fetch(`http://localhost:5000/api/user/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data = await res.json();\r\n    alert(data.message);\r\n    setCheck(data.check);\r\n  };\r\n\r\n  const deletehandler = (id) => {\r\n    deleteUser(id);\r\n  };\r\n  useEffect(() => {\r\n    if (check === true) {\r\n      setmagic(true);\r\n      setCheck(false);\r\n    }\r\n  }, [check]);\r\n\r\n  const editme = (id) => {\r\n    setUseredit(true);\r\n    setIsedit(false);\r\n    setHasid(id);\r\n  };\r\n  return (\r\n    <>\r\n      {!isuseedit ? (\r\n        <>\r\n          {!magic &&\r\n            user.map((item, key) => {\r\n              return (\r\n                <div className=\"user-container\" key={key}>\r\n                  <div className=\"block\">\r\n                    <h1>{item.name}</h1>\r\n                  </div>\r\n                  <div className=\"block\">\r\n                    <h3>{item.email}</h3>\r\n                  </div>\r\n                  <div className=\"block\">\r\n                    <h4>{item.status}</h4>\r\n                  </div>\r\n                  <div className=\"block update\">\r\n                    <EditOutlined\r\n                      className=\"edit\"\r\n                      onClick={() => editme(item._id)}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className=\"block update\"\r\n                    onClick={() => deletehandler(item._id)}\r\n                  >\r\n                    <DeleteForever className=\"delete\" />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Edit hasid={hasid} />\r\n        </>\r\n      )}\r\n      {magic && <Magic magic={magic} setmagic={setmagic} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}